<html><head><base href="/patients/reports/settings">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PediGrowth - Configurações de Relatórios</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">

<style>
:root {
  --primary-color: #4e73df;
  --secondary-color: #858796;
  --success-color: #1cc88a;
  --info-color: #36b9cc;
  --warning-color: #f6c23e;
  --danger-color: #e74a3b;
  --sidebar-width: 250px;
}

body {
  margin: 0;
  font-family: 'Nunito', sans-serif;
  background-color: #f8f9fc;
}

.wrapper {
  display: flex;
}

.sidebar {
  width: var(--sidebar-width);
  min-height: 100vh;
  background: linear-gradient(180deg, var(--primary-color) 0%, #224abe 100%);
  color: white;
  position: fixed;
  transition: all 0.3s;
}

.sidebar-brand {
  padding: 1.5rem 1rem;
  text-align: center;
  font-size: 1.2rem;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.nav-item {
  padding: 0.5rem 1rem;
  margin: 0.2rem 0;
}

.nav-link {
  color: rgba(255,255,255,0.8);
  text-decoration: none;
  display: flex;
  align-items: center;
  padding: 0.8rem 1rem;
  border-radius: 0.35rem;
  transition: all 0.2s;
}

.nav-link:hover {
  color: white;
  background-color: rgba(255,255,255,0.1);
}

.nav-link i {
  margin-right: 0.8rem;
  width: 1.5rem;
}

.main-content {
  flex: 1;
  margin-left: var(--sidebar-width);
  padding: 1.5rem;
}

.settings-card {
  background: white;
  border-radius: 0.5rem;
  box-shadow: 0 0.15rem 1.75rem rgba(0,0,0,0.1);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.settings-section {
  margin-bottom: 2rem;
}

.settings-section:last-child {
  margin-bottom: 0;
}

.settings-title {
  color: var(--primary-color);
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid var(--primary-color);
}

.form-switch {
  padding-left: 2.5em;
}

.custom-template {
  border: 1px solid #ddd;
  padding: 1rem;
  border-radius: 0.5rem;
  margin: 0.5rem 0;
}

.template-actions {
  display: flex;
  gap: 0.5rem;
}

.color-picker {
  width: 50px;
  height: 30px;
  padding: 0;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.logo-preview {
  max-width: 200px;
  max-height: 100px;
  object-fit: contain;
  margin: 1rem 0;
}

@media (max-width: 768px) {
  .sidebar {
    width: 0;
    position: fixed;
    z-index: 1;
  }
  
  .main-content {
    margin-left: 0;
  }
  
  .sidebar.active {
    width: var(--sidebar-width);
  }
}

.custom-template-preview {
  background: #f8f9fc;
  padding: 1rem;
  border-radius: 0.5rem;
  margin-top: 1rem;
}

.save-indicator {
  display: none;
  color: var(--success-color);
  margin-left: 1rem;
}

.save-indicator.active {
  display: inline-block;
  animation: fadeInOut 2s ease-in-out;
}

@keyframes fadeInOut {
  0% { opacity: 0; }
  50% { opacity: 1; }
  100% { opacity: 0; }
}
</style>
</head>
<body>

<div class="wrapper">
  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-brand">
      <h2>PediGrowth</h2>
    </div>
    <div class="sidebar-menu">
      <div class="nav-item">
        <a href="/doctor-dashboard" class="nav-link">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          Dashboard
        </a>
      </div>
      <div class="nav-item">
        <a href="/patients" class="nav-link">
          <i class="fas fa-fw fa-users"></i>
          Pacientes
        </a>
      </div>
      <div class="nav-item">
        <a href="/patients/reports" class="nav-link">
          <i class="fas fa-fw fa-file-medical-alt"></i>
          Relatórios
        </a>
      </div>
      <div class="nav-item">
        <a href="/patients/reports/settings" class="nav-link active">
          <i class="fas fa-fw fa-cog"></i>
          Configurações
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <div class="container-fluid">
      <h1 class="h3 mb-4 text-gray-800">Configurações de Relatórios</h1>

      <!-- General Settings -->
      <div class="settings-card">
        <div class="settings-section">
          <h5 class="settings-title">Configurações Gerais</h5>
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Cabeçalho do Relatório</label>
                <input type="text" class="form-control" value="Clínica Pediátrica">
              </div>
              <div class="mb-3">
                <label class="form-label">Logo da Clínica</label>
                <input type="file" class="form-control" accept="image/*">
                <img src="https://via.placeholder.com/200x100" alt="Logo preview" class="logo-preview">
              </div>
              <div class="mb-3">
                <label class="form-label">Cor Principal</label>
                <input type="color" class="color-picker" value="#4e73df">
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Rodapé do Relatório</label>
                <textarea class="form-control" rows="3">Endereço: Rua Example, 123 - Tel: (11) 1234-5678</textarea>
              </div>
              <div class="mb-3">
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Incluir Assinatura Digital</label>
                </div>
              </div>
              <div class="mb-3">
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Incluir Data e Hora</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Report Templates -->
      <div class="settings-card">
        <div class="settings-section">
          <h5 class="settings-title">Modelos de Relatório</h5>
          <div class="custom-template">
            <div class="d-flex justify-content-between align-items-center">
              <h6>Relatório de Crescimento</h6>
              <div class="template-actions">
                <button class="btn btn-sm btn-primary"><i class="fas fa-edit"></i> Editar</button>
                <button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i> Excluir</button>
              </div>
            </div>
            <div class="custom-template-preview">
              <small class="text-muted">Visualização do template</small>
              <p>Inclui: Curva de crescimento, histórico de peso, altura e percentis</p>
            </div>
          </div>

          <div class="custom-template mt-3">
            <div class="d-flex justify-content-between align-items-center">
              <h6>Relatório de Vacinação</h6>
              <div class="template-actions">
                <button class="btn btn-sm btn-primary"><i class="fas fa-edit"></i> Editar</button>
                <button class="btn btn-sm btn-danger"><i class="fas fa-trash"></i> Excluir</button>
              </div>
            </div>
            <div class="custom-template-preview">
              <small class="text-muted">Visualização do template</small>
              <p>Inclui: Calendário vacinal, próximas vacinas, histórico de imunização</p>
            </div>
          </div>

          <button class="btn btn-success mt-3">
            <i class="fas fa-plus"></i> Adicionar Novo Modelo
          </button>
        </div>
      </div>

      <!-- Export Settings -->
      <div class="settings-card">
        <div class="settings-section">
          <h5 class="settings-title">Configurações de Exportação</h5>
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Formato Padrão de Exportação</label>
                <select class="form-select">
                  <option value="pdf">PDF</option>
                  <option value="excel">Excel</option>
                  <option value="word">Word</option>
                </select>
              </div>
              <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" checked>
                <label class="form-check-label">Compressão Automática</label>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <label class="form-label">Qualidade da Imagem</label>
                <select class="form-select">
                  <option value="high">Alta</option>
                  <option value="medium">Média</option>
                  <option value="low">Baixa</option>
                </select>
              </div>
              <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" checked>
                <label class="form-check-label">Incluir Marca d'água</label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Save Button -->
      <div class="d-flex justify-content-end">
        <button class="btn btn-primary" onclick="saveSettings()">
          <i class="fas fa-save"></i> Salvar Configurações
        </button>
        <span class="save-indicator" id="saveIndicator">
          <i class="fas fa-check"></i> Configurações salvas com sucesso!
        </span>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
function saveSettings() {
  // Simulate saving settings
  Swal.fire({
    title: 'Salvando configurações...',
    timer: 1000,
    timerProgressBar: true,
    didOpen: () => {
      Swal.showLoading()
    }
  }).then(() => {
    Swal.fire({
      icon: 'success',
      title: 'Configurações salvas com sucesso!',
      showConfirmButton: false,
      timer: 1500
    })
    
    // Show save indicator
    const saveIndicator = document.getElementById('saveIndicator');
    saveIndicator.classList.add('active');
    setTimeout(() => {
      saveIndicator.classList.remove('active');
    }, 2000);
  });
}

// Mobile sidebar toggle
document.addEventListener('DOMContentLoaded', function() {
  const sidebarToggle = document.createElement('button');
  sidebarToggle.classList.add('btn', 'btn-link', 'd-md-none', 'rounded-circle', 'mr-3');
  sidebarToggle.innerHTML = '<i class="fa fa-bars"></i>';
  
  sidebarToggle.addEventListener('click', function() {
    document.querySelector('.sidebar').classList.toggle('active');
  });
  
  document.querySelector('.main-content').prepend(sidebarToggle);
});
</script>

</body>
</html>
